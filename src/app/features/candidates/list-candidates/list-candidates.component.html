<div class="wrapper">
    <div class="heading">
        <span>My Students <span class="available">
            <!-- (Available: {{ listApplication?.totalRecords }}) -->
        </span></span>
    </div>
    <div class="profile-wrapper">
        <form [formGroup]="searchForm">
            <div class="search-wrapper">
                <!-- <div class="checkbox-flex mb-2">
                    <div>
                        <p-checkbox class="checkbox" [binary]="true" label="Show Candidates with Resume"
                            formControlName="showCandidatesWithResumeFlag">
                        </p-checkbox>
                        <p-checkbox class="checkbox" [binary]="true" label="Un-Followed Candidates"
                            formControlName="unfollowedCandidatesFlag">
                        </p-checkbox>
                    </div>
                    <div>
                        <p-button class="mr-1" label="Send To Client" styleClass="p-button-primary"
                            (onClick)="openSendEmailModal()"
                            [disabled]="listApplication?.selectedApplications?.length == 0">
                        </p-button>
                        <p-button class="mx-2" label="Export" styleClass="p-button-primary"
                            (onClick)="checkExportLimit()">
                        </p-button>
                        <p-button class="mx-1" label="Reset" styleClass="p-button-secondary"
                            (onClick)="resetFilters()">
                        </p-button>
                    </div>
                </div> -->
                <div class="grid grid-nogutter">
                    <div class="col-12 md:col-6 lg:col-2">
                        <div class="field-wrapper">
                            <div class="input-wrapper">
                                <input pInputText placeholder="Search.." formControlName="search" />
                            </div>
                        </div>
                    </div>
                   <div class="col-12 md:col-6 lg:col-2">
                        <div class="field-wrapper">
                            <div class="input-wrapper">
                                <p-dropdown [options]="modeList" optionLabel="displayValue"
                                    optionValue="dataValue" placeholder="Select Mode"
                                    formControlName="mode">
                                </p-dropdown>
                            </div>
                        </div>
                    </div>
               
                    <div class="col-12 md:col-6 lg:col-2">
                        <div class="field-wrapper">
                            <div class="input-wrapper">
                                <p-dropdown [options]="batchPreferenceList" optionLabel="displayValue"
                                    optionValue="dataValue" placeholder="Select Batch"
                                    formControlName="batchPreference">
                                </p-dropdown>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-12 md:col-6 lg:col-2">
                        <div class="field-wrapper">
                            <div class="input-wrapper">
                                <p-calendar formControlName="batchStartDate" placeholder="Select Joining Date">
                                </p-calendar>
                            </div>
                        </div>
                    </div>   -->

                    <div class="col-12 md:col-6 lg:col-2 flex justify-content-end">
                        <div class="field-wrapper">
                            <div class="input-wrapper"  >
                                <p-button class="mr-1" label="Create" styleClass="p-button-primary"
                                 (onClick)="createCandidate()">
                                </p-button>
                            </div>
                        </div>
                    </div> 
                </div>
            </div>
        </form>


       <div>
    <app-institute-divider></app-institute-divider>
    <p-table [value]="candidateDetails"  [lazy]="true">
        <ng-template pTemplate="header">
            <tr>
                <th>CANDIDATE DETAILS</th>
                <th>COURSE DETAILS</th>
                <th>PAYMENT DETAILS</th>
                <th>STATUS</th>
                <th style="width: 15%;">MODIFIED</th>
                <th>ACTION</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-candidate>
            <tr *ngIf="!dataLoaded">
                <td>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton height="1rem"></p-skeleton>
                </td>
                <td>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton height="1rem"></p-skeleton>
                </td>
                <td>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton height="1rem"></p-skeleton>
                </td>
                <td>
                    <p-skeleton height="1rem"></p-skeleton>
                </td>
                <td>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton styleClass="mb-2" height="1rem"></p-skeleton>
                    <p-skeleton height="1rem"></p-skeleton>
                </td>
                <td>
                    <p-skeleton shape="circle" size="3rem"></p-skeleton>
                </td>
            </tr>
            <tr *ngIf="dataLoaded">
                <!-- <td class="no-border">
                    <p-tableCheckbox [value]="appliedJob"></p-tableCheckbox>
                </td> -->
                <td class="no-border">
                    <div class="applied-job">
                        <span>
                            {{ candidate.name }}
                        </span>
                        <span>{{ candidate.mobileNumber }}</span>
                        <span>{{ candidate.email }}</span>
                    </div>
                </td>
                <td class="no-border">
                    <div class="applied-job">
                        <span>{{ candidate.courseName }}</span>
                        <span>{{ candidate.mode }}</span>
                        <span>{{ candidate.batchPreference }}</span>
                    </div>
                </td>
                <td class="no-border">
                    <div class="applied-job">
                        <span>COURSE FESS: {{ candidate.courseFees }}</span>
                        <span>AMOUTN PAID: {{ candidate.amountPaid }}</span>
                        <span>BALANCE AMOUNT: {{ candidate.balanceAmount }}</span>
                    </div>
                </td>
                <td class="no-border">
                    <p-tag [severity]="getSeverity(candidate.status)" [value]="candidate.status"></p-tag>
                </td>
                <td class="no-border">
                    <div class="applied-job">
                        <span>{{candidate.modifiedUserName }}</span>
                        <span>{{ candidate.modifiedDate | date : 'dd-MMM-yyyy' }}</span>
                        <span>{{ candidate.modifiedDate | date : 'hh:mm a' }}</span>
                    </div>
                </td>
                <td class="no-border">
                  
                <span class="pi pi-pencil edit"  (click)="onClickOnEdit(candidate?.id)">
                   </span>
                </td>

            </tr>
            <tr *ngIf="dataLoaded">
            
               <!-- <td colspan="1" class="row-footer">
                    <div class="flex-start">
                        <label class="pr-2">LAST COMMENT:</label>
                        <div class="pr-2">
                            <i *ngIf="candidate.comment" class="pi pi-info-circle" [pTooltip]="candidate.comment"></i>
                        </div>
                    </div>
                </td> -->

                <td colspan="1" class="row-footer">
                    <div class="flex-start">
                        <label class="pr-2">CREATED USER:</label>
                        <div class="pr-2">
                            {{ candidate.createdUserName }}
                        </div>
                    </div>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="8">No records found.</td>
            </tr>
        </ng-template>
    </p-table>
    <div class="pagination-wrapper">
        <p-paginator (onPageChange)="onPageChange($event)" [totalRecords]="totalRecords"
            [rowsPerPageOptions]="[10, 20, 30]" [rows]="maxLimitPerPage">
        </p-paginator>
    </div>
</div>




    </div>
</div>